# Weather Dashboard Assignment Report
**Student Index:** 194174B

---

## 1. Student Index and Coordinate Derivation

### Student Index
```
194174B
```

### Coordinate Derivation Formula

The coordinates are derived from the student index using the following formula:

```
firstTwo = int(index[0..1])  = 19
nextTwo  = int(index[2..3])  = 41

latitude  = 5 + (firstTwo / 10.0) = 5 + (19 / 10.0) = 6.90Â°
longitude = 79 + (nextTwo / 10.0) = 79 + (41 / 10.0) = 83.10Â°
```

### Calculated Coordinates
- **Latitude:** 6.90Â°
- **Longitude:** 83.10Â°

---

## 2. API Integration

### Weather API Used
**Open-Meteo API** (No API key required)

### Request URL
```
https://api.open-meteo.com/v1/forecast?latitude=6.9&longitude=83.1&current_weather=true
```

### Sample API Response
```json
{
  "current_weather": {
    "temperature": 27.5,
    "windspeed": 18.2,
    "weathercode": 95
  }
}
```

---

## 3. Features Implemented

### Core Requirements
âœ… **Student Index Input** - Text field with validation  
âœ… **Coordinate Derivation** - Automatic calculation from index  
âœ… **API Integration** - Fetches weather from Open-Meteo  
âœ… **Weather Display** - Temperature, wind speed, weather code  
âœ… **Request URL Display** - Visible at bottom of weather card  
âœ… **Last Update Time** - Device timestamp shown  
âœ… **Loading Indicator** - Progress spinner during fetch  
âœ… **Error Handling** - User-friendly error messages  
âœ… **Offline Caching** - Uses shared_preferences package  

### Additional Features
- Weather descriptions with emojis (Clear sky â˜€ï¸, Rain ğŸŒ§ï¸, etc.)
- Modern Material Design 3 UI
- Gradient backgrounds
- Success/error snackbar notifications
- Auto-loads cached data on startup
- Prominent "CACHED" badge for offline data
- Input validation with helpful error messages
- Collapsible API URL section for better UX

---

## 4. Technical Implementation

### Technologies Used
- **Framework:** Flutter 3.24.5
- **Language:** Dart
- **Platform:** Android (SDK 34)
- **Dependencies:**
  - `http: ^1.1.0` - For REST API calls
  - `shared_preferences: ^2.2.2` - For local caching

### Project Structure
```
lib/
â”œâ”€â”€ main.dart              # Main UI implementation
â””â”€â”€ weather_service.dart   # API service & caching logic
```

### Key Code Snippets

**Coordinate Derivation:**
```dart
static Map<String, double> deriveCoordinates(String index) {
  final firstTwo = int.parse(index.substring(0, 2));
  final nextTwo = int.parse(index.substring(2, 4));
  
  final lat = 5 + (firstTwo / 10.0);
  final lon = 79 + (nextTwo / 10.0);
  
  return {'lat': lat, 'lon': lon};
}
```

**API Integration:**
```dart
final url = 'https://api.open-meteo.com/v1/forecast?'
            'latitude=$lat&longitude=$lon&current_weather=true';
final response = await http.get(Uri.parse(url));
final data = json.decode(response.body);
```

**Caching Implementation:**
```dart
await prefs.setString('cached_weather', json.encode(data));
```

---

## 5. Screenshots

### Screenshot 1: Main Interface with Coordinates
![Main Interface]
- Shows student index input field (194174)
- Displays derived coordinates (Lat: 6.90Â°, Lon: 83.10Â°)
- Fetch Weather button visible

### Screenshot 2: Weather Data Display
![Weather Display]
- Shows current weather information:
  - Temperature: 27.5Â°C
  - Wind Speed: 18.2 km/h
  - Weather Code: 95 (Thunderstorm â›ˆï¸)
- Last updated timestamp visible
- Request URL displayed at bottom

### Screenshot 3: Offline Mode (Cached Data)
![Cached Data]
- Orange "CACHED" badge visible
- Shows previously fetched weather data
- Demonstrates offline functionality

---

## 6. Testing & Validation

### API Verification Test
Created a standalone test script (`test_api.dart`) to verify API functionality:

**Test Results:**
```
âœ… Student Index: 194174
âœ… Calculated Coordinates: Lat 6.90Â°, Lon 83.10Â°
âœ… API Response: Success (HTTP 200)
âœ… Temperature: 27.5Â°C
âœ… Wind Speed: 18.2 km/h
âœ… Weather Code: 95 (Thunderstorm)
```

### Test Scenarios Verified
1. âœ… Valid index â†’ Correct coordinates â†’ Successful fetch
2. âœ… Network available â†’ Fresh data with timestamp
3. âœ… Network unavailable â†’ Cached data with badge
4. âœ… Invalid index â†’ Clear error message
5. âœ… App restart â†’ Auto-loads cached data

---

## 7. Reflection

### What I Learned

During this assignment, I gained valuable hands-on experience with Flutter mobile development and REST API integration. I learned how to implement proper state management using StatefulWidget, handle asynchronous operations with async/await, and create a responsive Material Design UI. The implementation of offline caching using shared_preferences taught me the importance of graceful degradation and providing users with cached data when network connectivity is unavailable.

### Challenges Faced

The main challenge I encountered was updating the Android SDK version from 33 to 34 due to dependency requirements from the shared_preferences package. This required modifying the Gradle build configuration and updating the NDK version. Additionally, I had to carefully handle error scenarios to ensure the app falls back to cached data when the API is unreachable, providing a seamless user experience even in offline mode.

### Key Takeaways

This project reinforced the importance of user experience design - adding visual feedback like loading indicators, success notifications, and clear error messages significantly improves usability. I also learned that working with real-world APIs requires proper error handling and contingency planning. The assignment successfully demonstrated how modern mobile apps can provide valuable functionality even without constant internet connectivity through intelligent caching strategies.

---

## 8. Conclusion

The Personalized Weather Dashboard successfully implements all required features including coordinate derivation from student index, real-time weather fetching from Open-Meteo API, offline caching, and a user-friendly interface. The application is fully functional on Android platform and provides an enhanced user experience through modern Material Design principles.

---

## Appendix

### Build Information
- **Build Status:** âœ… Successful
- **Platform:** Android (API Level 34)
- **Min SDK:** 21 (Android 5.0)
- **Target SDK:** 34 (Android 14)
- **Build Time:** ~6.5 seconds

### Repository Structure
```
wethearapp/
â”œâ”€â”€ android/              # Android platform files
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ main.dart        # Main UI (450+ lines)
â”‚   â””â”€â”€ weather_service.dart  # API service (90+ lines)
â”œâ”€â”€ test_api.dart        # API verification script
â”œâ”€â”€ pubspec.yaml         # Dependencies configuration
â””â”€â”€ ASSIGNMENT_README.md # Detailed documentation
```

### Dependencies Installed
```yaml
dependencies:
  flutter:
    sdk: flutter
  cupertino_icons: ^1.0.8
  http: ^1.1.0                    # REST API calls
  shared_preferences: ^2.2.2      # Local storage
```

---

**Report Generated:** November 17, 2025  
**Total Lines of Code:** ~540 lines (Dart)  
**Assignment Status:** âœ… Complete
